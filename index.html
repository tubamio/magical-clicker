<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>魔法少女インフレクリッカー v0.1.7.3</title>

    <!-- ★ Tailwind CDN（暫定） -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      :root { color-scheme: dark; }
      html { font-size: 18px; }
      @media (min-width:1920px){ html { font-size:20px; } }
      body {
        margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic", sans-serif;
        background: radial-gradient(1200px 600px at 20% 0%, #2b2a68 0%, #1a1740 40%, #120f26 70%) fixed,
                    linear-gradient(180deg, #120f26 0%, #1a1020 60%, #25132a 100%) fixed;
        color:#ffeef8;
      }
      .container { max-width: 1280px; margin: 0 auto; padding: 24px 16px; }
      .boot-panel{
        max-width: 1000px; margin:24px auto; padding:12px; border-radius:12px;
        background:#2a1d3a; color:#ffeef8; white-space:pre-wrap;
        box-shadow:0 8px 24px rgba(255,120,200,.15), inset 0 0 0 1px rgba(255,160,220,.15);
      }
    </style>
  </head>
  <body>
    <div id="root" class="container">
      <div class="boot-panel">初期化待機中…（JavaScript未実行の可能性）</div>
    </div>

    <!-- 早期エラーパネル -->
    <script>
      (function(){
        function show(msg){
          var box=document.getElementById('__boot_error__');
          if(!box){
            box=document.createElement('pre');
            box.id='__boot_error__';
            box.className='boot-panel';
            document.body.appendChild(box);
          }
          box.textContent='[BOOT ERROR]\\n'+msg;
        }
        window.addEventListener('error', e => show((e.error&&e.error.stack)||e.message||String(e)));
        window.addEventListener('unhandledrejection', e => show((e.reason&&e.reason.stack)||e.reason||String(e)));
        console.log('[boot] catcher armed');
      })();
    </script>

    <!-- インラインESM import（失敗は画面表示） -->
    <script type="module">
      const root = document.getElementById('root');
      if(root) root.innerHTML = '<div class="boot-panel">起動中…（/src/main.tsx を読み込み）</div>';
      import('/src/main.tsx').catch(e=>{
        const msg=(e&&(e.stack||e.message))?(e.stack||e.message):String(e);
        root.innerHTML='<pre class="boot-panel">[MAIN IMPORT FAILED]\\n'+msg+'</pre>';
        console.error('[main-import-failed]', e);
      });
    </script>
  </body>
</html>
