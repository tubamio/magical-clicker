/* ====== Base / Layout ====== */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  background:radial-gradient(1200px 800px at 20% 0%,#40204d 0%,#1f0a2c 60%),#1f0a2c;
  color:#ffeefa;
  font-family:system-ui,-apple-system,'Segoe UI',Roboto,'Noto Sans JP',sans-serif;
  font-size:22px; line-height:1.45;
}
.container{
  max-width:1400px; margin:24px auto; padding:0 20px;
  display:grid; grid-template-columns:1fr 1fr 1fr; gap:20px;
}
.title{ grid-column:1 / span 3; display:flex; align-items:center; gap:14px }
.title h1{ margin:0; font-size:32px; font-weight:800 }
.badge{ font-size:16px; color:#bdb7e7; background:rgba(255,255,255,.06); padding:4px 10px; border-radius:999px; border:1px solid #2c2950 }
.spacer{ flex:1 }

/* ====== Panels ====== */
.panel{
  background:linear-gradient(180deg,#542058,#6d2773);
  border:1px solid #9a3ab8; border-radius:16px;
  box-shadow:0 10px 28px rgba(0,0,0,.35); overflow:hidden;
}
.hd{
  display:flex; justify-content:space-between; align-items:center;
  padding:16px 18px; border-bottom:1px solid #9a3ab8; background:rgba(255,255,255,.07);
  font-weight:700;
}
.bd{ padding:18px 18px 20px }

/* ====== Grids / Flex ====== */
.col{ display:flex; flex-direction:column; gap:16px }
.left{ grid-column:3; }
.genpanel{ grid-column:1 / span 2; }
.right{ grid-column:3; display:flex; flex-direction:column; gap:12px; min-width:320px }
.row{ display:flex; gap:20px; align-items:center; flex-wrap:wrap }
.wrap{ flex-wrap:wrap } .center{ justify-content:center }
.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:16px }

/* Spacing helpers */
.mt8{ margin-top:12px } .mt12{ margin-top:20px }
.ml-auto{ margin-left:auto } .gap8{ gap:12px }

/* ====== Typography / Pills ====== */
.stat{ display:flex; gap:10px; align-items:baseline }
.big{ font-size:48px; font-weight:900; letter-spacing:.3px }
.muted{ color:#f2b6e0 }
.pill{
  background:rgba(255,255,255,.07); border:1px solid #2c2950;
  padding:10px 16px; border-radius:999px; font-size:20px;
}

/* ====== Buttons ====== */
.btn{
  background:#ff6dc3; color:#fff; border:none; border-radius:16px;
  padding:18px 28px; cursor:pointer; font-weight:700; font-size:22px;
  transition:filter .15s ease;
}
.btn:hover{ filter:brightness(1.06) }
.btn.good{ background:var(--mint); color:#0f5132; }
.btn.warn{ background:#f59e0b }
.btn.danger{ background:#ef4444 }
.btn.ghost{ background:transparent; color:#ffe9f9; border:1px solid #7d2d91 }

/* 操作用ボタン色系統（完全分離） */
.btn.tapbtn{ background:#ffb3e6 }  /* タップ */
.btn.buy{ background:#ff6dc3 }     /* 購入（ピンク系） */
.btn.buy.alt{ background:#e054ad } /* 最大購入（ピンク・濃） */
.btn.up{ background:#b67aff }      /* 強化（ラベンダー系） */
.btn.up.alt{ background:#8c5ebf }  /* 最大強化（ラベンダー・濃） */

/* 無効ボタン：灰色・非反応・カーソル通常 */
.btn:disabled{
  opacity:.55; pointer-events:none; cursor:default; filter:none !important;
  background:#5a607a !important; color:#e6e7ee !important; border:none !important;
}

/* ====== Tap block ====== */
.tap{
  background:linear-gradient(180deg,#ffb3e6,#ff85d1);
  border:1px solid #ff6dc3; border-radius:16px;
  padding:18px; text-align:center; color:#fff; font-weight:800;
}
.tap .big{ font-size:36px }

/* ====== Generator list ====== */
.genlist{ display:grid; grid-template-columns:1fr 1fr; gap:14px; grid-auto-flow:row }
.gen{
  display:grid; grid-template-columns:1fr 420px; gap:16px;
  padding:14px; border:1px solid #2c2950; border-radius:14px; background:rgba(255,255,255,.03);
}
.gen .name{ font-weight:900; margin-bottom:6px; font-size:24px }
.gen .desc{ font-size:18px; color:#c6c0ea }

/* ====== Rebirth list ====== */
.rebirths{ display:flex; flex-direction:column; gap:12px }
.rebirth-item{ display:flex; flex-direction:column; gap:4px }
.rebirth-item .cond{ font-size:18px }
.rebirth-item .feat{ font-size:18px }


/* ====== Feature panel ====== */
#featurePanel .feature-item{ display:flex; flex-direction:column; gap:4px; margin-bottom:12px }
#featurePanel .feature-item .desc{ font-size:18px; color:#c6c0ea }
#jobPanel .job-item{ display:flex; flex-direction:column; gap:4px; margin-bottom:12px }
#jobPanel .job-item .desc{ font-size:18px; color:#c6c0ea }

/* ====== Misc ====== */
.box{ border:1px solid #2c2950; border-radius:12px; padding:14px; background:rgba(255,255,255,.02) }
footer.center{ text-align:center; padding:12px 0; color:#bfb7e8 }

/* ====== Responsive ====== */
@media (max-width: 1100px){
  .container{ grid-template-columns:1fr; }
  .gen{ grid-template-columns:1fr; }
  .genpanel{ grid-column:1; }
  .genlist{ grid-template-columns:1fr; grid-auto-flow:row }
  .left{ grid-column:1; }
  .right{ grid-column:1; grid-row:auto; min-width:0 }
}


/* === 0.1.6.0 UI color refinements === */
:root{
  --buy:#ff6dc3; --buy-deep:#e054ad;
  --upg:#b67aff; --upg-deep:#8c5ebf;
  --frill-pink:#ffbde4;
  --frill-green:#c7f5cf;
  --frill-yellow:#fff5b3;
  --mint:#a7f3d0;
}
.btn-buy{background:linear-gradient(180deg,var(--buy) 0%,var(--buy-deep) 100%);color:#fff;}
.btn-buy-agg{background:linear-gradient(180deg,var(--buy-deep) 0%,#a6008c 100%);color:#fff;}
.btn-upg{background:linear-gradient(180deg,var(--upg) 0%,var(--upg-deep) 100%);color:#fff;}
.btn-upg-agg{background:linear-gradient(180deg,var(--upg-deep) 0%,#4b1a99 100%);color:#fff;}

.hd.frill{position:relative; --frill-color:var(--frill-pink);}
.hd.frill.frill-pink{--frill-color:var(--frill-pink);}
.hd.frill.frill-green{--frill-color:var(--frill-green);}
.hd.frill.frill-yellow{--frill-color:var(--frill-yellow);}

.hd.frill::after{
  content:'';
  position:absolute;
  left:0; right:0; bottom:-6px;
  height:6px;
  background:radial-gradient(circle at 8px 0,var(--frill-color) 8px,transparent 8px) repeat-x;
  background-size:16px 8px;
}

.hd.frill.frill-top::after{
  top:-6px; bottom:auto;
  background:radial-gradient(circle at 8px 100%,var(--frill-color) 8px,transparent 8px) repeat-x;
  background-size:16px 8px;
}

.hd.frill.frill-double::before{
  content:'';
  position:absolute;
  left:0; right:0; top:-6px;
  height:6px;
  background:radial-gradient(circle at 8px 100%,var(--frill-color) 8px,transparent 8px) repeat-x;
  background-size:16px 8px;
}

.hd.frill.frill-zigzag::after{
  bottom:-6px;
  height:6px;
  background:
    linear-gradient(-45deg,var(--frill-color) 4px,transparent 0) 0 0/8px 8px repeat-x,
    linear-gradient(45deg,var(--frill-color) 4px,transparent 0) 4px 0/8px 8px repeat-x;
}

.hd.frill.frill-wave::after{
  bottom:-6px;
  height:6px;
  background:radial-gradient(50% 50% at 8px 6px,var(--frill-color) 8px,transparent 8px) repeat-x;
  background-size:16px 8px;
}

body.rebirth-flash::before{
  content:'';
  position:fixed;
  inset:0;
  background:radial-gradient(circle, rgba(255,245,179,.9), rgba(255,189,228,.4), transparent 70%);
  animation:rebirthFlash 1s ease-out forwards;
  pointer-events:none;
  z-index:9999;
}
@keyframes rebirthFlash{
  from{opacity:1;}
  to{opacity:0;}
}
